# クイックスタート - ビルド済みアプリ

ビルドが完了したアプリケーションの使い方を説明します。

## 🚀 5分で始める

### ステップ1: アプリを起動 (30秒)

**方法A: エクスプローラーから**
1. エクスプローラーで以下のフォルダを開く:
   ```
   C:\Users\signakada\Desktop\SummaryForDoc-win\dist\SummaryForDoc
   ```
2. `SummaryForDoc.exe` をダブルクリック

**方法B: コマンドラインから**
```cmd
cd C:\Users\signakada\Desktop\SummaryForDoc-win\dist\SummaryForDoc
SummaryForDoc.exe
```

### ステップ2: APIキーを設定 (1分)

1. **サイドバーの「⚙️ 設定」をクリック**

2. **使用するAI APIを選択**:
   - **Claude (Anthropic)** - 推奨
   - **GPT (OpenAI)**

3. **APIキーを入力**:
   - Claude: https://console.anthropic.com/ で取得
   - OpenAI: https://platform.openai.com/ で取得

4. **「保存」ボタンをクリック**

✅ APIキーが保存されました！

### ステップ3: テストファイルで試す (3分)

#### サンプルファイルを作成

メモ帳で以下の内容を作成し、`test.txt` として保存:

```
患者情報
氏名: 山田太郎
生年月日: 1980年5月15日
住所: 東京都渋谷区代々木1-2-3

病歴:
2020年4月から抑うつ症状が出現。不眠、食欲低下、集中力の低下が続いている。
2020年5月に当院を受診し、うつ病と診断された。
```

#### アプリで処理

1. **「📁 ファイルを選択」ボタンをクリック**
2. 作成した `test.txt` を選択
3. **要約の種類**を選択:
   - ☑️ 病歴（200-300文字）
   - ☑️ 症状の詳細（200-300文字）
4. **テンプレート**: 「障害年金診断書」を選択
5. **「🤖 個人情報を削除して要約作成」ボタンをクリック**
6. 数秒待つ...

#### 結果を確認

✅ **個人情報が削除されている**:
- 氏名 → `[氏名]`
- 生年月日 → `[生年月日]`
- 住所 → `[住所]`

✅ **要約が生成されている**:
- 病歴: 200-300文字でまとめられている
- 症状の詳細: 具体的な症状が記載されている

#### 結果を保存またはコピー

- **💾 ファイル保存**: クリックして保存先を選択
- **📋 コピー**: クリックしてクリップボードにコピー

## 📚 基本的な使い方

### ファイルの選択方法

#### 単一ファイルを選択
1. 「📁 ファイルを選択」ボタンをクリック
2. ファイルを選択
3. 「開く」をクリック

#### 複数ファイルを選択
1. 「📁 ファイルを選択」ボタンをクリック
2. **Ctrlキーを押しながら**複数ファイルをクリック
3. 「開く」をクリック

### サポートされているファイル形式

- ✅ **テキストファイル** (.txt) - 直接読み込み
- ✅ **PDFファイル** (.pdf) - 自動でテキスト抽出
- ✅ **画像ファイル** (.jpg, .png) - OCRで日本語認識

### 要約の種類

#### 病歴（200-300文字）
診断書の「病歴」欄に記載するための要約

#### 症状の詳細（200-300文字）
診断書の「症状の詳細」欄に記載するための要約

#### 全期間サマリー（詳細版）
全期間の病歴を詳細にまとめた長い要約

### テンプレート

- **障害年金診断書** - 障害年金申請用の診断書形式
- **精神障害者保健福祉手帳** - 手帳申請用の形式
- **自立支援医療** - 自立支援医療申請用の形式
- **カスタム** - 自分で編集可能（将来実装予定）

## 🎯 実際の使用例

### 例1: 複数の通院記録をまとめる

1. 通院記録をテキストファイルにコピー（複数可）
2. すべてのファイルを選択（Ctrlキー + クリック）
3. 「全期間サマリー（詳細版）」を選択
4. 要約作成

### 例2: スキャンした診断書から要約

1. スキャンした診断書（.jpg または .png）を選択
2. OCRで自動的にテキスト化
3. 要約作成

### 例3: PDFの電子カルテから抽出

1. 電子カルテのPDFを選択
2. 自動的にテキスト抽出
3. 個人情報削除と要約を実行

## ⚠️ 重要な注意事項

### 個人情報の確認

- ⚠️ **個人情報削除は100%完璧ではありません**
- ⚠️ **必ず目視で確認してください**
- ⚠️ 特殊な形式の個人情報は検出されない可能性があります

確認すべき項目:
- [ ] 氏名が削除されている
- [ ] 生年月日が削除されている
- [ ] 住所が削除されている
- [ ] 電話番号が削除されている
- [ ] その他の個人を特定できる情報

### API料金

- ⚠️ API呼び出しには料金がかかります
- 1回あたり数円〜十数円程度
- 長い文書や複数ファイルの場合は料金が増加
- 各APIサービスの料金体系を確認してください

### OCR精度

- ⚠️ OCR精度は画像の質に依存します
- 鮮明で高解像度の画像を使用してください
- 手書き文字の認識精度は低い可能性があります
- OCR結果は必ず確認してください

### 医療文書としての使用

- ⚠️ 生成された要約は必ず医師が最終確認してください
- ⚠️ AI生成の内容をそのまま使用しないでください
- ⚠️ 医学的な正確性は保証されません

## 🔧 トラブルシューティング

### アプリが起動しない

**症状**: ダブルクリックしても何も起こらない

**解決方法**:
1. コマンドプロンプトから実行してエラーを確認:
   ```cmd
   cd C:\Users\signakada\Desktop\SummaryForDoc-win\dist\SummaryForDoc
   SummaryForDoc.exe
   ```
2. Windowsセキュリティでブロックされていないか確認
3. 必要に応じて「詳細情報」→「実行」をクリック

### ファイルが選択できない

**症状**: ファイル選択ダイアログで目的のファイルが表示されない

**原因**: サポートされていないファイル形式

**解決方法**:
- サポートされている形式: .txt, .pdf, .jpg, .png
- 他の形式のファイルは読み込めません

### OCRが動作しない

**症状**: 画像ファイルを選択しても処理されない

**確認ポイント**:
1. `tesseract` フォルダが存在するか:
   ```cmd
   dir C:\Users\signakada\Desktop\SummaryForDoc-win\dist\SummaryForDoc\tesseract
   ```
2. 日本語データが存在するか:
   ```cmd
   dir C:\Users\signakada\Desktop\SummaryForDoc-win\dist\SummaryForDoc\tesseract\tessdata\jpn.traineddata
   ```

**解決方法**:
再ビルドが必要な場合は `build_pyinstaller.bat` を実行

### APIエラー

**症状**: 「APIキーが無効です」などのエラー

**確認ポイント**:
1. APIキーが正しく入力されているか
2. インターネットに接続されているか
3. API利用枠が残っているか
4. API料金の支払いが完了しているか

## 📖 詳細情報

より詳しい情報は以下のドキュメントを参照:

- **[TESTING_GUIDE.md](TESTING_GUIDE.md)** - 詳細なテスト手順
- **[WINDOWS_BUILD.md](WINDOWS_BUILD.md)** - ビルド手順とトラブルシューティング
- **[README.md](README.md)** - プロジェクト全体の説明

## ✨ 楽しんでください！

アプリケーションの準備が整いました。医療文書の要約作成にお役立てください！

質問やフィードバックがあれば、お気軽にお知らせください。
